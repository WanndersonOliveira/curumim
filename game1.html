<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<title>Game</title>
</head>
<body onload="inicio()">
	<style type="text/css">
		body {
			background-color: grey;
			z-index: 10;
		}

		#tela, #cima, #lateral {
			position: absolute;
			top: 10px;
			left: 5%;
			width: 220px;
			height: 300px;
			background-color: #66ccff;
			z-index: -1;
		}

		#tela {
			border-style: solid;
			border-width: 1px;
		}

		#cima {
			top: 0px;
			height: 10px;
			background-color: grey;
			z-index: 5;
		}

		#lateral {
			left: 0%;
			width: 5%;
			background-color: grey;
			z-index: 5;
		}


		#pers {
			position: absolute;
			top: 130px;
			left: 50px;
			z-index: 1;
		}

		#left, #right, #up {
			position: absolute;
			top: 400px;
			left: 50px;
			width: 50px;
			height: 50px;
		}

		#right {
			left: 150px;
		}

		#up {
			top: 340px;
		}
	</style>

	<script type="text/javascript">

		//projetado para telas de 161 px de 

		var body = document.body;
		var elementos = [];
		var player = {x:50,y:130, dir:0, sobre:false, subindo: false}; //0 -> esquerda; 1 -> direita
		var cenario = 0;
		var altura_base = 90;
		var altura_pulo; //= altura_base-50;

		var ind = 0;
		var ctrl = [];

		function inicio(){

			var tela = document.getElementById("tela");

			if(cenario == 0){

				var elemento = document.createElement("img");

				elemento.src = "terra2.png";
				elemento.style.position = "absolute";
				elemento.style.width = "110px";
				elemento.style.height = "220px";
				elemento.style.top = "80px";
				elemento.style.left = "110px";
				elemento.style.zIndex = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "-25px";
				elemento.style.left = "130px";
				elemento.style.zIndez = "-5"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "150";
				elemento.style.top = "75px";
				elemento.style.left = "90px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);


				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "150px";
				elemento.style.height = "180px";
				elemento.style.top = "120px";
				elemento.style.left = "20px";
				elemento.style.zIndex = "-4";

				tela.appendChild(elemento);
				elementos.push(elemento);

				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "180";
				elemento.style.top = "110px";
				elemento.style.left = "5px";
				elemento.style.zIndez = "-4";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "100px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "100px";
				elemento.style.zIndez = "-3";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "120";
				elemento.style.top = "145px";
				elemento.style.left = "90px";
				elemento.style.zIndez = "-3";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.width = "120";
				elemento.style.top = "180px";
				elemento.style.left = "50px";
				elemento.style.zIndez = "-2";

				tela.appendChild(elemento);
				elementos.push(elemento);

				altura_base = 130;


				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "10px";
				elemento.style.left = "50px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "150";
				elemento.style.top = "180px";
				elemento.style.left = "30px";
				elemento.style.zIndez = "-2";

				tela.appendChild(elemento);
				elementos.push(elemento);


			}

			if(cenario == 1){
				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra2.png";
				elemento.style.position = "absolute";
				elemento.style.width = "110px";
				elemento.style.height = "220px";
				elemento.style.top = "80px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "150";
				elemento.style.top = "75px";
				elemento.style.left = "-15px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);



				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "100px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "120px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.width = "130";
				elemento.style.top = "150px";
				elemento.style.left = "105px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);



				elemento = document.createElement("img");

				elemento.src = "plat1.png";
				elemento.style.position = "absolute";
				elemento.style.top = "25px";
				elemento.style.left = "90px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);
			}


			if(cenario == 2){

				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "220px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "20px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "275px";
				elemento.style.height = "30px";
				elemento.style.top = "140px";
				elemento.style.left = "-30px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);

				for(var i = 60; i <= 140; i+=20){
					elemento = document.createElement("img"); 

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "100px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";

					tela.appendChild(elemento);
					elementos.push(elemento);
				}


				for(var i = 20; i <= 180; i+=40){
					elemento = document.createElement("img"); 

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "120px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";

					tela.appendChild(elemento);
					elementos.push(elemento);
				}

			}

			if(cenario == 3){

				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "220px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "20px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "275px";
				elemento.style.height = "30px";
				elemento.style.top = "140px";
				elemento.style.left = "-30px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);

				elemento = document.createElement("img");

				elemento.src = "plat1.png";
				elemento.style.position = "absolute";
				elemento.style.top = "100px";
				elemento.style.left = "90px";
				elemento.style.zIndez = "-3";

				tela.appendChild(elemento);
				elementos.push(elemento);

				for(var i = 100; i <= 150; i+=20){
					elemento = document.createElement("img");

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "80px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";

					tela.appendChild(elemento);
					elementos.push(elemento);
				}

				for(var i = 20; i <= 180; i+=20){
					elemento = document.createElement("img");

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "130px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";

					tela.appendChild(elemento);
					elementos.push(elemento);
				}

			}

			if(cenario == 4){
				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "220px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "20px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "275px";
				elemento.style.height = "30px";
				elemento.style.top = "140px";
				elemento.style.left = "-30px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "inimigo.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "100px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-2";
				//altura: 50; largura: 50
				tela.appendChild(elemento);
				elementos.push(elemento);

				for(var i = 80; i <= 130; i+=20){
					elemento = document.createElement("img");

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "80px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";
					////altura: 10; largura: 10
					tela.appendChild(elemento);
					elementos.push(elemento);
				}

			}


			if(cenario == 5){
				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "220px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "20px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "arvore.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "40px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-4"

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "275px";
				elemento.style.height = "30px";
				elemento.style.top = "140px";
				elemento.style.left = "-30px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "inimigo.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "100px";
				elemento.style.left = "140px";
				elemento.style.zIndez = "-2";
				//altura: 50; largura: 50
				tela.appendChild(elemento);
				elementos.push(elemento);

				var elemento = document.createElement("img");

				elemento.src = "inimigo.png";
				elemento.style.position = "absolute";
				//elemento.style.width = "110px";
				//elemento.style.height = "220px";
				elemento.style.top = "100px";
				elemento.style.left = "80px";
				elemento.style.zIndez = "-2";
				//altura: 50; largura: 50
				tela.appendChild(elemento);
				elementos.push(elemento);

				for(var i = 80; i <= 130; i+=20){
					elemento = document.createElement("img");

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = "80px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";
					////altura: 10; largura: 10
					tela.appendChild(elemento);
					elementos.push(elemento);
				}

				var t = 150;

				for(var i = 80; i <= 130; i+=20){
					elemento = document.createElement("img");
					t = t-20;

					elemento.src = "semente.png";
					elemento.style.position = "absolute";
					elemento.style.top = t+"px";
					elemento.style.left = i+"px";
					elemento.style.zIndez = "-3";
					////altura: 10; largura: 10
					tela.appendChild(elemento);
					elementos.push(elemento);
				}

			}

			if(cenario == 6){
				for(var i = 0; i < elementos.length; i++){
					elementos[i].remove();
				}

				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "100px";
				elemento.style.height = "150px";
				elemento.style.top = "150px";
				elemento.style.left = "0px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "150px";
				elemento.style.height = "30px";
				elemento.style.top = "140px";
				elemento.style.left = "-30px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);


				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "50px";
				elemento.style.height = "100px";
				elemento.style.top = "200px";
				elemento.style.left = "120px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "70px";
				elemento.style.height = "20px";
				elemento.style.top = "190px";
				elemento.style.left = "110px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);


				var elemento = document.createElement("img");

				elemento.src = "terra.png";
				elemento.style.position = "absolute";
				elemento.style.width = "40px";
				elemento.style.height = "50px";
				elemento.style.top = "250px";
				elemento.style.left = "180px";
				elemento.style.zIndex = "-10";

				tela.appendChild(elemento);
				elementos.push(elemento);


				elemento = document.createElement("img");

				elemento.src = "grama.png";
				elemento.style.position = "absolute";
				elemento.style.width = "50px";
				elemento.style.height = "20px";
				elemento.style.top = "240px";
				elemento.style.left = "175px";
				elemento.style.zIndez = "-5";

				tela.appendChild(elemento);
				elementos.push(elemento);
			}


			//body.removeChild() ou elemento.remove()
		}

		function init(id){
			if(id == 0){
				ctrl[0] = setInterval(left,100);
			} 

			if(id == 1){
				ctrl[0] = setInterval(right,100);
			}

			if(id == 2){
				//document.getElementById("up").style.display = "none";
				//ctrl[0] = setInterval(pulo,100);

				for(var i = 0; i < 30; i++){
					setTimeout(pulo,200);
				}
				//initPulo();
			}
			
		}


		function pulo2(){

			console.log(player.y);

			if(player.y > altura_pulo & player.subindo == true){
				player.subindo = true;
				player.y-=10;
				document.getElementById("p").style.top = player.y+"px";
			} else if(player.y == altura_pulo){
				player.subindo = false;
			} 

			if(player.y < altura_base & player.subindo == false){
				player.y+=10;
				document.getElementById("p").style.top = player.y+"px";
			} else if(player.y == 300){
				clearInterval(ctrl[0]);
			}
		}

		function initPulo(){
			player.subindo = true;
			ctrl[0] = setInterval(pulo2,100);
		}

		

		function right(){
				console.log("y: "+player.y);
				console.log("altura_base: "+altura_base);

				player.x+=10;
				player.dir = 1;
				

				if(cenario == 0){
					if(player.x >= 150 & altura_base == 130){
						ctrl[5] = setInterval(queda, 100);
					}

					if(player.x > 170 & altura_base == 100){
						ctrl[5] = setInterval(queda, 100);
					}

					if(player.x >= 140 & altura_base == 70){
						init_gravidade();
					}

					if(player.x == 190 & (altura_base == 30 | altura_base == 31)){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}
				}


				if(cenario == 1){
					if(player.x > 90 & altura_base == 30){
						init_gravidade();
					}

					if(player.x > 70 & player.x <= 90 & altura_base == 30){
						init_gravidade();
					}

					if(player.x > 140 & altura_base == -20){
						init_gravidade();
					}

					if(player.x == 190 & altura_base == 110){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}
				}

				if(cenario == 2){
					if(player.x == 190 & altura_base == 110){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}
				}


				if(cenario == 3){
					if(player.x == 190 & altura_base == 110){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}

					if(player.x >= 140 & altura_base == 49){
						init_gravidade();
					}
				}


				if(cenario == 4){
					if(player.x == 190 & altura_base == 110){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}
				}


				if(cenario == 5){
					if(player.x == 190 & altura_base == 110){
						player.x = 0;
						document.getElementById("pers").style.left = player.x+"px";
						cenario++;
						inicio();
					}
				}

				if(cenario == 6){
					if(player.x > 70 & altura_base == 110){
						init_gravidade();
					}

					if(player.x > 150 & altura_base == 150){
						init_gravidade();
					}
				}


				//Verificador de colisão personagem-inimigo
				/*if(cenario == x){
					for(var i = 0; i < elementos.length; i++){
						var elemento = elementos[i];

						if(elemento.src == "inimigo.png"){
							if(elemento.style.top == player.y & ){

							}
						}
					}
				}*/


				document.getElementById("pers").style.left=player.x+"px";
				document.getElementById("pers").style.top=player.y+"px";

			console.log("x> "+player.x);
		}

		function queda(){
			if(player.y < 250){

				player.y+=20;

				document.getElementById("pers").style.left = player.x+"px";
				document.getElementById("pers").style.top = player.y+"px";
			} else {
				document.getElementById("pers").style.display = "none";
				clearInterval(ctrl[5]);
			}
		}

		function left(){

			if(cenario == 0){
				if(player.x < 20 & altura_base == 130){
					ctrl[5] = setInterval(queda,100);
				}

				if(player.x < 0 & altura_base == 70){
					ctrl[5] = setInterval(queda,100);
				}

				if(player.x < 100 & altura_base == 100){
					init_gravidade();
				}

				if(player.x < 20 & altura_base == 70){
					init_gravidade();
				}

				if(player.x < 90 & altura_base == 30){
					init_gravidade();
				}
			}

			if(cenario == 1){
				if(player.x < 70 & altura_base == -20){
					init_gravidade();
				}

				if(player.x < 110 & altura_base == 110){
					ctrl[5] = setInterval(queda,100);
				}

			}

			if(cenario == 3){
				if(player.x <= 70 & altura_base == 49){
					init_gravidade();
				}
			}

			if(cenario == 6){
				if(player.x < 100 & altura_base == 150){
					ctrl[5] = setInterval(queda,100);
				}

				if(player.x < 160 & altura_base == 200){
					ctrl[5] = setInterval(queda,100);
				}
			}


			if(player.x >= -10){
				player.x-=10;
				player.dir = 0;
				document.getElementById("pers").style.left=player.x+"px";
				console.log("x> "+player.x);
			}
		}

		function stop(){
			clearInterval(ctrl[0]);
		}


		function pulo(){

			if(player.x > 70 & player.x <= 90 & altura_base == 30 & cenario == 1){
				altura_base = -20;
				player.sobre = true;
			}

			if(cenario == 3){
				if((player.x >= 70 & player.x <= 140)){
					altura_base = 49;
					player.sobre = true;
				}
			}

			if(player.y > altura_pulo){
				player.y-=10;

				document.getElementById("pers").style.top=player.y+"px";
			}

			if(player.y == altura_pulo) {
				init_gravidade();
				//clearInterval(ctrl[0]);
			}
		}

		function init_gravidade(){

			if(cenario == 0){
				if(player.x >= 90 & player.x < 150 & altura_base == 130){
					altura_base = 90;
				}

				if(player.x >= 100 & player.x <= 120 & altura_base == 100){
					altura_base = 69;
				}

				if(player.x < 100 & altura_base == 100){
					altura_base = 130;
				}

				if(player.x >= 140 & altura_base == 70){
					altura_base = 100;
				}

				if(player.x >= 90 & player.x < 140 & altura_base == 70){
					altura_base = 31;
				}

				if(player.x < 90 & altura_base == 30){
					altura_base = 69;
				}
			}

			if(cenario == 1){

				if(player.x > 90 & altura_base == 30){
					altura_base = 109;
				}

				if(player.x > 140 & altura_base == -20){
					altura_base = 109;
				}

				if(player.x < 70 & altura_base == -20){
					altura_base = 29;
				}
			}

			if(cenario == 3){
				if(player.x <= 70 & altura_base == 49){
					altura_base = 109;
				}

				if(player.x >= 140 & altura_base == 49){
					altura_base = 109;
				}
			}

			if(cenario == 6){
				if(player.x > 70 & player.y == 110){
					altura_base = 149;
				}

				if(player.x > 150 & altura_base == 150){
					altura_base = 199;
				}
			}
			
			//ctrl[2] = setInterval(gravidade, 100);

			for(var i = 0; i < 30; i++){
				ctrl[2] = setTimeout(gravidade,200);
			}
		}

		function gravidade(){

			if(player.y < altura_base){
				player.y+=10;
				document.getElementById("pers").style.top=player.y+"px";

				if(cenario == 0){
					if(altura_base == 69){
						altura_base = 70;
					}

					if(altura_base == 90){
						altura_base = 100;
					}

					if(altura_base == 31){
						altura_base = 30;
					}
				}

				if(cenario == 1){
					if(altura_base == 109){
						altura_base = 110;

						player.sobre = false;
					}

					if(altura_base == 29){
						altura_base = 30;
						player.sobre = false;
					}
				}

				if(cenario == 3){
					if(altura_base == 49){
						altura_base = 50;
					}

					if(altura_base == 109){
						altura_base = 110;

						player.sobre = false;
					}
				}

				if(cenario == 6){
					if(altura_base == 149){
						altura_base = 150;
					}

					if(altura_base == 199){
						altura_base = 200;
					}
				}


			} if(player.y == altura_base) {
				clearTimeout(ctrl[2]);
			}
		}

		

		function checaAltura(){
			altura_pulo = altura_base-50;
		}

		function progressao(){
			
		}

		setInterval(checaAltura,1000);

	</script>


	<div id="cima"></div>
	<div id="lateral"></div>
	<div id="tela">
		<img src="bubble.png" id="pers">
	</div>

	<button id="up" ontouchstart="init(2)" ontouchend="stop()" onclick="init(2)">W</button>
	<button id="left" ontouchstart="init(0)" ontouchend="stop()" onmousedown="init(0)" onmouseup="stop()"></button>
	<button id="right" ontouchstart="init(1)" ontouchend="stop()" onmousedown="init(1)" onmouseup="stop()"></button>
</body>
</html>